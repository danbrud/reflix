(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},29:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),o=a.n(i),s=(a(28),a(15)),c=a(2),u=a(3),l=a(5),d=a(4),m=a(6),h=a(7),p=a(11),g=(a(29),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).updateUser=function(){return a.props.updateUser(a.props.user.id)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(h.b,{to:"/catalog"},r.a.createElement("div",{onClick:this.updateUser,style:{backgroundColor:e.backgroundColor},className:"user-box"},e.name))}}]),t}(n.Component)),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"WHO'S WATCHING?"),r.a.createElement("div",{id:"user-container"},this.props.users.map(function(t){return r.a.createElement(g,{key:t.name,user:t,updateUser:e.props.updateUser})})))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clickedMovie=function(){return a.props.clickedMovie(a.props.movie.id)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.movie;return r.a.createElement("div",{className:"movie-container",style:{backgroundImage:"url(".concat(e.img,")"),backgroundSize:"100% 100%"}},e.isRented[this.props.currentUserId]?r.a.createElement("i",{className:"fas fa-minus-circle",onClick:this.clickedMovie}):r.a.createElement("i",{className:"fas fa-plus-circle",onClick:this.clickedMovie}),r.a.createElement(h.b,{to:"/movies/".concat(e.id)},r.a.createElement("h2",{id:"movie-title"},e.title)))}}]),t}(n.Component),b=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).updateSearch=function(t){return e.setState({searchValue:t.target.value})},e.hasRentals=function(){return e.props.movies.some(function(t){return t.isRented[e.props.currentUserId]})},e.moviesToDisplay=function(t){return t.title.toLowerCase().includes(e.state.searchValue.toLowerCase())?r.a.createElement(f,{currentUserId:e.props.currentUserId,updateRented:e.props.updateRented,updateBudget:e.props.updateBudget,clickedMovie:e.props.clickedMovie,movie:t,key:t.id}):null},e.getRentedSection=function(){var t=e.props.movies.filter(function(t){return t.isRented[e.props.currentUserId]});return r.a.createElement("div",null,r.a.createElement("p",{className:"section"},"RENTED:"),r.a.createElement("div",{className:"catalog-container"},t.map(function(t){return e.moviesToDisplay(t)})))},e.redirect=function(){return r.a.createElement(p.a,{to:"/"})},e.state={searchValue:""},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(this.props.currentUserId<0)return this.redirect();var t=this.props.users.find(function(t){return t.id===e.props.currentUserId});return r.a.createElement("div",{id:"catalog-page"},r.a.createElement("div",{id:"search-container"},r.a.createElement("input",{type:"text",placeholder:"Search a movie",value:this.state.searchValue,onChange:this.updateSearch}),r.a.createElement("p",{className:"user-info"},"BUDGET: $",t.budget),r.a.createElement("p",{className:"user-info"},"USER: ",t.name.toUpperCase())),this.hasRentals()?this.getRentedSection():null,r.a.createElement("div",null,r.a.createElement("p",{className:"section"},"CATALOG:"),r.a.createElement("div",{className:"catalog-container"},this.props.movies.map(function(t){return e.moviesToDisplay(t)}))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).getMovieId=function(){return parseInt(a.props.match.params.id)},a.redirect=function(){return r.a.createElement(p.a,{to:"/"})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(this.props.currentUserId<0)return this.redirect();var t=this.props.movies.find(function(t){return t.id===e.getMovieId()});return r.a.createElement("div",{className:"movie-detail-container"},r.a.createElement("h2",null,t.title),r.a.createElement("img",{src:t.img,alt:"".concat(t.title," cover")}),r.a.createElement("p",null,t.descrShort))}}]),t}(n.Component),E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).updateRented=function(t,a){return t.isRented[e.state.currentUserId]=a,t},e.clickedMovie=function(t){var a=Object(s.a)(e.state.movies),n=a.find(function(e){return e.id===t}),r=e.state.currentUserId,i=Object(s.a)(e.state.users),o=i.find(function(e){return e.id===r}),c=o.budget;if(n.isRented[r])n=e.updateRented(n,!1),o=e.updateBudget(o,c+3);else if(!n.isRented[r]&&e.hasEnoughBudget(r))n=e.updateRented(n,!0),o=e.updateBudget(o,c-3);else if(!e.hasEnoughBudget(r))return alert("You don't have enough money. Please return a movie and try again.");e.setState({movies:a}),e.setState({users:i})},e.hasEnoughBudget=function(t){return e.state.users.find(function(e){return e.id===t}).budget-3>=0},e.updateBudget=function(e,t){return e.budget=t,e},e.updateUser=function(t){return e.setState({currentUserId:t})},e.state={movies:[{id:0,isRented:{0:!1,1:!1,2:!1,3:!1},title:"Tarzan",year:1999,img:"https://vignette.wikia.nocookie.net/disney-fan-fiction/images/4/42/Tarzan_2004_cover.jpg/revision/latest?cb=20140331030811",descrShort:"Tarzan was born into wealth but raised into incredible misfortune. Shiprweck, parents mauled by a jaguar. Luckily, a troop of gorillas took him in, but the Big Daddy gorilla never took a liking to him. That is, until the end when it's too late. Why is it too late? Watch and find out."},{id:1,isRented:{0:!1,1:!1,2:!1,3:!1},title:"The Lion King",img:"https://img00.deviantart.net/b782/i/2006/207/e/7/the_lion_king_front_cd_cover_by_peachpocket285.jpg",year:1994,descrShort:"A young lion prince named Simba is born into wealth but raised into incredible misfortune. Trickster uncle, dying father, usurpation. Luckily, an unlikely meerkat-warthog pair take him in and teach him The Ways of the Bum Life. Be prepared for ghostly hallucinations, wild baboons, creepy crawlies."},{id:2,isRented:{0:!1,1:!1,2:!1,3:!1},title:"Beauty and the Beast",year:1991,img:"https://images-na.ssl-images-amazon.com/images/I/81etFyb9N-L._SL1500_.jpg",descrShort:"A kickass woman named Belle who does not succumb to social norms gets crap from a bunch of village idiots, chief amongst them a total tool named Gaston. Belle shows everyone how great she is when she turns a beast (not Gaston) into a man. Love ensues, but then the villagers fall trap to severe group-think mentality led by the main tool himself."},{id:3,isRented:{0:!1,1:!1,2:!1,3:!1},title:"The Sword in the Stone",year:1963,img:"https://scdn.nflximg.net/images/0230/3330230.jpg",descrShort:"Arthur is a young boy who just wants to be a knight's squire. Alas, he is dubbed 'Wart' early on, and it was all downhill from there for a while. On a hunting trip he falls in on Merlin, literally. Merlin is a possibly-mentally-unstable-and-ethically-dubious Wizard that turns Arthur into a literate, at-one-point harassed squirrel. Watch to find out what the heck that means."},{id:4,isRented:{0:!1,1:!1,2:!1,3:!1},title:"Beauty and the Beast",year:2016,img:"https://images-na.ssl-images-amazon.com/images/I/51ArFYSFGJL.jpg",descrShort:"Basically the same as the original, except now Hermi-- Emma Wattson plays Belle, fittingly so some would say, given how actively progressive she is regarding women's rights. Rumor has it that in the bonus scenes she whips out a wand and turns Gaston into a toad, but in order to watch those scenes you need to recite a certain incantation."}],users:[{id:0,name:"Danny",backgroundColor:"#03B5AA",budget:10},{id:1,name:"Tal",backgroundColor:"#59114D",budget:15},{id:2,name:"Sammy",backgroundColor:"#E98A15",budget:17},{id:3,name:"Tammy",backgroundColor:"#157F1F",budget:18}],currentUserId:-1},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.movies;return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"link-header"},r.a.createElement(h.b,{to:"/"},"Home"),r.a.createElement(h.b,{to:"/catalog"},"Catalog"),r.a.createElement("div",{id:"logo"},r.a.createElement(h.b,{to:"/"},"REFLIX"))),r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(v,{users:e.state.users,updateUser:e.updateUser})}}),r.a.createElement(p.b,{exact:!0,path:"/catalog",render:function(){return r.a.createElement(b,{movies:t,users:e.state.users,clickedMovie:e.clickedMovie,currentUserId:e.state.currentUserId})}}),r.a.createElement(p.b,{exact:!0,path:"/movies/:id",render:function(a){var n=a.match;return r.a.createElement(y,{match:n,movies:t,currentUserId:e.state.currentUserId})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.50fc4792.chunk.js.map